%div{:class => 'row'}
  %div{:class => 'span8', :id => 'calendar'}
  %div{:class => 'span4'}
    %div{:class => 'well'}
      %div
        %h4 Upcoming Reminders
        %table{:class => 'table'}
          %thead
            %th
              %td Title
              %td Date and Time
          %tbody
            %tr
              - @upcoming_reminders.each do |rem|
                %td= rem.title
                %td= rem.start
      %a{:href => '#newReminder', :role => 'button', :class => 'btn', :'data-toggle' => 'modal'} Create a new Reminder

/ This is the new reminder modal
%div{:id => 'newReminder', :class => 'modal hide fade', :tabindex => '-1', :role => 'dialog', :'aria-labelledby' => 'New Reminder', :'aria-hidden' => 'true'}
  %div{:class => 'modal-header'}
    %button{:type => 'button', :class => 'close', :'data-dismiss' => 'modal', :'aria-hidden' => 'true'} x
    %h3{:id => 'New Reminder'} Create a new Reminder
  %div{:class => 'modal-body'}
    = form_tag reminders_path, :id => 'new_reminder_form', :class => 'modal-form' do

      = label :reminder, :title, 'Reminder Title'
      = text_field :reminder, 'title'

      = label :reminder, :start, 'Start Date and Time'
      = text_field :reminder, :start, :class => 'date_picker_field'

      = label :reminder, :end, 'End Date and Time'
      = text_field :reminder, :end, :class => 'date_picker_field'

      = label :reminder, :repeat, 'Repeat Interval'
      = text_field :reminder, :repeat

      = label :reminder, :customhtml, 'Custom Email HTML'
      = text_area :reminder, :customhtml, :rows => 5
      
  %div{:class => 'modal-footer'}
    %img{:src => '/assets/ajax-loader.gif', :id => 'new_loader', :class => 'save_loader_img', :style => 'display: none;'}
    %a{:href => '#', :id => 'save_reminder_link', :class => 'btn btn-primary'} Save Reminder
    %button{:class => 'btn', :'data-dismiss' => 'modal', :'aria-hidden' => 'true'} Close

/ This is the edit reminder modal, and we're violating DRY with this
%div{:id => 'editReminder', :class => 'modal hide fade', :tabindex => '-1', :role => 'dialog', :'aria-labelledby' => 'New Reminder', :'aria-hidden' => 'true'}
  %div{:class => 'modal-header'}
    %button{:type => 'button', :class => 'close edit_close', :'data-dismiss' => 'modal', :'aria-hidden' => 'true'} x
    %h3{:id => 'New Reminder'} Create a new Reminder
  %div{:class => 'modal-body'}
    = form_tag reminders_path, :id => 'edit_reminder_form', :class => 'modal-form', :method => 'put' do

      = label :edit_reminder, :title, 'Reminder Title'
      = text_field :edit_reminder, 'title'

      = label :edit_reminder, :start, 'Start Date and Time'
      = text_field :edit_reminder, :start, :class => 'date_picker_field'

      = label :edit_reminder, :end, 'End Date and Time'
      = text_field :edit_reminder, :end, :class => 'date_picker_field'

      = label :edit_reminder, :repeat, 'Repeat Interval'
      = text_field :edit_reminder, :repeat

      = label :edit_reminder, :customhtml, 'Custom Email HTML'
      = text_area :edit_reminder, :customhtml, :rows => 5
      
  %div{:class => 'modal-footer'}
    %a{:href => '#', :id => 'delete_reminder_button', :class => 'btn btn-danger delete_btn'}Delete Reminder
    %img{:src => '/assets/ajax-loader.gif', :class => 'delete_loader_img', :id => 'delete_loader', :style => 'display: none;'}
    %img{:src => '/assets/ajax-loader.gif', :class => 'save_loader_img', :id => 'edit_loader', :style => 'display: none;'}
    %a{:href => '#', :id => 'edit_reminder_link', :class => 'btn btn-primary'} Save Reminder
    %button{:class => 'btn edit_close', :'data-dismiss' => 'modal', :'aria-hidden' => 'true'} Close
